<div class="mt10">
  <div v-if="!state?.slySelectedContext || state.slySelectedContext.startsWith('images')">
    <div v-if="!state?.slySelectedContext" style="display: flex; align-items: center; margin-bottom: 15px;">
      <i class="zmdi zmdi-alert-triangle" style="color: orange; font-size: 25px; margin: 5px; margin-left:15px"></i>
      <b>Save detections works only for images. If video project is selected, only anonymization settings are applied!</b>
    </div>
    <div>
      <el-checkbox 
        v-model="state.SaveDetections" 
        @change="if (!state.SaveDetections) {state.Anonymize = true}"
      >
        <div style="display: inline-block">
          <sly-field
            title="Save Detections"
            description="Bbox of class 'face' with 'model confidence' tag will be added for each prediction"
          >
          </sly-field>
        </div>
      </el-checkbox>
    </div>
    <div>
      <el-checkbox 
        v-model="state.Anonymize"
        @change="if (!state.Anonymize) {state.SaveDetections = true}"
      >
        <div style="display: inline-block">
          <sly-field
            title="Anonymize"
            description="If checked, detected faces will be obfuscated using selected method"
          ></sly-field>
        </div>
      </el-checkbox>
    </div>
  </div>

  <div v-if="state.Anonymize || (state?.slySelectedContext && state.slySelectedContext.startsWith('videos'))" style="margin-left: 22px;">
    <sly-field
      title="Shape"
      description="Shape to obfuscate the data with"
    >
      <el-radio-group v-model="state.Shape">
        <div>
          <el-radio label="rectangle"><b>Rectangle</el-radio>
        </div>
        <div>
          <el-radio label="ellipse"><b>Ellipse</b></el-radio>
        </div>
      </el-radio-group>
    </sly-field>
    <sly-field
      title="Method"
      description="Anonymization method"
    >
      <el-radio-group v-model="state.Method">
        <div>
          <el-radio label="blur"><b>Blur</el-radio>
        </div>
        <div>
          <el-radio label="solid"><b>Solid</b></el-radio>
        </div>
      </el-radio-group>
    </sly-field>
  </div>
  <div>
    <sly-field
      title="Threshold"
      description="Set a detection confidence threshold"
    >
      <el-input-number v-model="state.Threshold" :step="0.01" :min="0" :max="1" size="small"></el-input-number>
    </sly-field>
  </div>
</div>
